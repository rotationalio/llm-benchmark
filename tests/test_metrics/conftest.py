import pytest

from construe.metrics import Metric, Measurement


@pytest.fixture(scope="class")
def completed_benchmark(request):
    """
    Updates the test class with a measurement from a completed benchmark.
    """
    timings = [
        16.013534370362848,
        16.068058630256697,
        27.978838255148556,
        23.04859680223561,
        25.172857054043725,
        15.630267903937519,
        29.932925723459075,
        20.609747262594063,
        21.7474829841046,
        29.584674954980567,
        19.274242917518773,
        29.661618764222112,
        27.102404790836218,
        20.221313679465798,
        24.544987808493858,
        23.399562246649953,
        16.02740296826095,
        23.29232913515189,
        16.98397715801701,
        22.22964436353979,
        21.120365641580793,
        20.237643451952817,
        26.582019807368884,
        28.062763708817254,
        25.26808266005873,
        20.151672980416166,
        18.23114335662441,
        17.423544155244407,
        17.26703760638754,
        27.68063854461369,
        15.474705479103662,
        22.498989331632472,
        23.190317946625328,
        16.477713134546917,
        19.1067814097728,
        15.106816811603542,
        24.480406563954606,
        23.661904683445783,
        15.156250872585662,
        21.323086999202516,
        22.758646368157876,
        25.13242749943546,
        28.678597380821177,
        28.854967167662895,
        18.01522795965679,
        15.388601440630415,
        27.743067044057366,
        19.85684900952261,
        28.479872934958653,
        28.02882481471227,
        22.2177190850446,
        27.41377911047913,
        15.064778684932376,
        27.200612103269766,
        28.625084794356408,
        15.32501200740106,
        28.85283870196046,
        23.228559017094987,
        27.907869002816195,
        26.11379847121796,
        18.148513808750494,
        23.738863359543338,
        21.463213899045048,
        20.56561757597189,
        28.12183027000104,
        17.53707113505026,
        18.77786475561049,
        16.865069561818313,
        29.031946144307064,
        24.368162865430364,
        25.00843575035202,
        25.57366678579585,
        21.418667771225547,
        27.700730450184896,
        22.210525614763093,
        18.70234284613276,
        28.44805227638529,
        19.134645896287203,
        24.549519879876684,
        29.161730233050093,
        27.88127501648714,
        22.07450237506607,
        28.262249325868403,
        29.84561893823121,
        21.49900263452003,
        29.007097921208803,
        21.596129792353928,
        24.513068454527446,
        22.91696494735629,
        28.977194712743394,
        26.922568342883615,
        24.798152054932192,
        27.89797511924964,
        21.82307791099665,
        26.531772732839926,
        27.505767531015223,
        16.403111227499263,
        28.29817512637112,
        16.76156931690454,
        25.319997297409323,
    ]
    metric = Metric(
        label="Basic",
        sub_label="mul/sum",
        description="Basic benchmark for matrix operations",
        env="MediaTek Genio EVK 1200",
        device="TFLite APU",
    )

    measurement = Measurement(
        raw_metrics=timings, metric=metric, metadata={"testing": True}
    )

    request.cls.measurement = measurement
