

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Development Guidelines &mdash; Construe v0.4.0-beta.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="canonical" href="https://construe.rotational.dev/developers.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=24bb955b"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api/index.html" />
    <link rel="prev" title="Benchmarks" href="benchmarks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Construe
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Development Guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tests-and-linting">Tests and Linting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataset-management">Dataset Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#models-management">Models Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#releases">Releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Construe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Development Guidelines</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/developers.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="development-guidelines">
<h1>Development Guidelines<a class="headerlink" href="#development-guidelines" title="Link to this heading"></a></h1>
<p>If you are a construe developer there are several helper utilities built into the library that will allow you to manage datasets and models both locally and in the cloud. But first, there are additional dependencies that you must install.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> uncomment the section that says: <code class="docutils literal notranslate"><span class="pre">&quot;#</span> <span class="pre">Packaging</span> <span class="pre">Dependencies&quot;</span></code>, e.g. your requirements should now have a section that appears similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Packaging Dependencies</span>
<span class="n">black</span><span class="o">==</span><span class="mf">24.10.0</span>
<span class="n">build</span><span class="o">==</span><span class="mf">1.2.2</span><span class="o">.</span><span class="n">post1</span>
<span class="n">datasets</span><span class="o">==</span><span class="mf">3.1.0</span>
<span class="n">flake8</span><span class="o">==</span><span class="mf">7.1.1</span>
<span class="n">google</span><span class="o">-</span><span class="n">cloud</span><span class="o">-</span><span class="n">storage</span><span class="o">==</span><span class="mf">2.19.0</span>
<span class="n">packaging</span><span class="o">==</span><span class="mf">24.2</span>
<span class="n">pip</span><span class="o">==</span><span class="mf">24.3.1</span>
<span class="n">setuptools</span><span class="o">==</span><span class="mf">75.3.0</span>
<span class="n">twine</span><span class="o">==</span><span class="mf">5.1.1</span>
<span class="n">wheel</span><span class="o">==</span><span class="mf">0.45.0</span>
</pre></div>
</div>
<p><strong>NOTE:</strong> the docs might not be up to date with all required dependencies, so make sure you use the latest <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>.</p>
<p>Then install these dependencies and the test dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -r requirements.txt
$ pip install -r tests/requirements.txt
</pre></div>
</div>
<section id="tests-and-linting">
<h2>Tests and Linting<a class="headerlink" href="#tests-and-linting" title="Link to this heading"></a></h2>
<p>All tests are in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder and are structured similarly to the <code class="docutils literal notranslate"><span class="pre">construe</span></code> module. All tests can be run with <code class="docutils literal notranslate"><span class="pre">pytest</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest
</pre></div>
</div>
<p>We use <code class="docutils literal notranslate"><span class="pre">flake8</span></code> for linting as configured in <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> – note that the <code class="docutils literal notranslate"><span class="pre">.flake8</span></code> file is for IDEs only and is not used when running tests. If you want to use <code class="docutils literal notranslate"><span class="pre">black</span></code> to automatically format your files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ black path/to/file.py
</pre></div>
</div>
</section>
<section id="dataset-management">
<h2>Dataset Management<a class="headerlink" href="#dataset-management" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">construe.datasets</span></code> utility provides some helper functionality for managing datasets including the following commands:</p>
<ul class="simple">
<li><p><strong>manifest</strong>: Generate a manifest file from local fixtures.</p></li>
<li><p><strong>originals</strong>: Download original datasets and store them in fixtures.</p></li>
<li><p><strong>sample</strong>: Create a sample dataset from the original that is smaller.</p></li>
<li><p><strong>upload</strong>: Upload datasets to GCP for user downloads.</p></li>
</ul>
<p>To regenerate the datasets you would run the <code class="docutils literal notranslate"><span class="pre">originals</span></code> command first to download the datasets from HuggingFace or elsewhere on the web, then run <code class="docutils literal notranslate"><span class="pre">sample</span></code> to create statistical samples on those datasets. Run <code class="docutils literal notranslate"><span class="pre">manifest</span></code> to generate the new manifest for the datasets and SHA256 signatures, then run <code class="docutils literal notranslate"><span class="pre">upload</span></code> to save them to our GCP bucket.</p>
<p>You must have valid GCP service account credentials to upload datasets.</p>
</section>
<section id="models-management">
<h2>Models Management<a class="headerlink" href="#models-management" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">construe.models</span></code> utility provides helpers for managing models and converting them to the tflite format including the following commands:</p>
<ul class="simple">
<li><p><strong>convert</strong>: Convert source models to the tflite format for use in embeded systems.</p></li>
<li><p><strong>manifest</strong>: Generate a manifest file from local fixtures.</p></li>
<li><p><strong>originals</strong>: Download original models and store them in fixtures.</p></li>
<li><p><strong>upload</strong>: Upload converted models to GCP for user downloads.</p></li>
</ul>
<p>To regenerate the models you would run the <code class="docutils literal notranslate"><span class="pre">originals</span></code> command to download the models from HuggingFace, then run <code class="docutils literal notranslate"><span class="pre">convert</span></code> to transform them into the tflite format. Run <code class="docutils literal notranslate"><span class="pre">manifest</span></code> to generate the new manifest for the models and SHA256 signatures, then run <code class="docutils literal notranslate"><span class="pre">upload</span></code> to save them to our GCP bucket.</p>
<p>You must have valid GCP service account credentials to upload datasets.</p>
</section>
<section id="releases">
<h2>Releases<a class="headerlink" href="#releases" title="Link to this heading"></a></h2>
<p>To release the construe library and deploy to PyPI run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m build
$ twine upload dist/*
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="benchmarks.html" class="btn btn-neutral float-left" title="Benchmarks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Rotational Labs.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>